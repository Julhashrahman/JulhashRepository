@model IEnumerable<JulhashWebsite.Models.FeedbackModel>
@{
    ViewBag.Title = "Feedback";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="header">
    Feedback
    <br />
    <hr style="width: 160px;" />
    <style>
            table {border-width:0px;}
            
            table tbody tr td{ border-width:0px; margin:0px; color:White; font-size:0.8em; 
                               padding:0px; padding-right:5px; font-family:Arial; vertical-align:top;}
    
           /*input[type=text], textarea {
              transition(all 0.30s ease-in-out);
              outline: none;
              padding: 1px 0px 3px 1px;
              margin: 1px 1px 3px 0px;
              border: 1px solid #DDDDDD;
              font-size:0.9em;
              font-family:Arial;
              height:12px;
              color:Black;
            }
 
            input[type=text]:focus, textarea:focus {
               box-shadow(0 0 5px rgba(81, 203, 238, 1));
              padding: 1px 0px 3px 1px;
              margin: 1px 1px 3px 0px;
              border: 1px solid rgba(81, 203, 238, 1);
               font-size:0.9em;
              font-family:Arial;
               height:12px;
            }*/


   
            label {
	            float: left; clear: left; margin: 11px 20px 0 0; width: 95px;
	            text-align: right; font-size: 16px; color: #445668; 
	            text-transform: uppercase; text-shadow: 0px 1px 0px #f2f2f2;
            }

            input {
	            width: 260px; height: 17px; padding: 5px 20px 2px 20px; margin: 2px 0 0px 0; 
	            background: #5E768D;
	            background: -moz-linear-gradient(top, #64ADE2 0%, #366F89 20%); /* firefox */
	            background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#64ADE2), color-stop(20%,#366F89)); /* webkit */
	            border-radius: 5px; -moz-border-radius: 5px; -webkit-border-radius: 5px;
	            -moz-box-shadow: 0px 1px 0px #f2f2f2;-webkit-box-shadow: 0px 1px 0px #f2f2f2;
	            font-family: sans-serif; font-size: 12px; color: #fff; text-shadow: 0px -1px 0px #334f71; 
            }
	            input::-webkit-input-placeholder  {
    	            color: #a1b2c3; text-shadow: 0px -1px 0px #38506b;  
	            }
	            input:-moz-placeholder {
	                color: #a1b2c3; text-shadow: 0px -1px 0px #38506b; 
	            }

            textarea {
	            width: 360px; height: 90px; padding: 12px 20px 0px 20px; margin: 2px 0 0px 0; 
	            background: #5E768D;
	            background: -moz-linear-gradient(top, #64ADE2 0%, #366F89 20%); /* firefox */
	            background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#64ADE2), color-stop(20%,#366F89)); /* webkit */
	            border-radius: 5px; -moz-border-radius: 5px; -webkit-border-radius: 5px;
	            -moz-box-shadow: 0px 1px 0px #f2f2f2;-webkit-box-shadow: 0px 1px 0px #f2f2f2;
	            font-family: sans-serif; font-size: 12px; color: #f2f2f2; text-shadow: 0px -1px 0px #334f71; 
            }
	            textarea::-webkit-input-placeholder  {
    	            color: #a1b2c3; text-shadow: 0px -1px 0px #38506b;  
	            }
	            textarea:-moz-placeholder {
	                color: #a1b2c3; text-shadow: 0px -1px 0px #38506b; 
	            }
	
            input:focus, textarea:focus {
	            background: #728eaa;
	            background: -moz-linear-gradient(top, #668099 0%, #728eaa 20%); /* firefox */
	            background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#668099), color-stop(20%,#728eaa)); /* webkit */
            }

            input[type=submit] {
	            width: 120px; height: 25px; padding: 0px 0px; margin: 0;
	            -moz-box-shadow: 0px 0px 5px #999;-webkit-box-shadow: 0px 0px 5px #999;
	            border: 1px solid #556f8c;
	            background: -moz-linear-gradient(top, #366F89 0%, #64ADE2 100%); /* firefox */
	            background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#366F89), color-stop(100%,#64ADE2)); /* webkit */
	            cursor: pointer;
	            font-size:12px;
            }
    
    </style>
</div>
<div>
    <form data-bind="submit: save">
    <div class="content-bg contenttext">
        <div class="text-content-bg" >
           <div style="padding-top:5px; padding-left:20px; border-width:0px;">
           <span style="color:White; font-size:12px;">@ViewBag.Message</span>
            <table cellpadding="0" cellspacing="0">
                <tbody data-bind="template: {name: 'FeedbackRowTemplate', foreach: feedbacks }">
                </tbody>
            
                    <script type="text/html" id="FeedbackRowTemplate">    
                    <tr>
                        <td>First Name:</td>
                        <td>  <input type="text" data-bind="value: FirstName" /></td>
                    </tr>
                    <tr>
                        <td>Last Name:</td>
                        <td><input type="text" data-bind="value: LastName" /></td>
                    </tr>
                    <tr>
                        <td>Email:</td>
                        <td><input type="text" data-bind="value: Email" /></td>
                    <tr>
                        <td>Message:</td>
                        <td><textarea rows="5" cols="60" data-bind="value: Message"></textarea></td>                     
                    </tr> 
                    </script>
                    <tr>
                        <td>&nbsp;</td>
                        <td> <input type="submit"/></td>
                    </tr>
                </table>
                </div>
        </div>
    </div>
    </form>
</div>
<script type="text/javascript">
   // $(function () {
        var initialData = @Html.Raw(Json.Encode(Model));

        //alert(initialData);

        var viewModel = {
                            feedbacks: ko.observableArray(initialData),
                            save: function(){
                                    ko.utils.postJson(location.href, {feedbacks: this.feedbacks});  
                                  }
                        };

        //activates KO
        ko.applyBindings(viewModel, document.body);
  //  });



//    var Feedbacks = {
//                        FirstName=ko.observable(''),
//                        LastName=ko.observable(''),
//                        Email=ko.observable(''),
//                        Message=ko.observable('')
//                    };


//    var viewModel = {
//        FirstName: ko.observable(''),
//        LastName: ko.observable('')
//    };

//    viewModel.FullName = ko.dependentObservable(function () {
//        return viewModel.FirstName() + "" + viewModel.LastName();
//    });




</script>
